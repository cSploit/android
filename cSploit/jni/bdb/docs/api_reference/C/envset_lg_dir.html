<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>DB_ENV-&gt;set_lg_dir()</title>
    <link rel="stylesheet" href="apiReference.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="start" href="index.html" title="Berkeley DB C API Reference" />
    <link rel="up" href="lsn.html" title="Chapter 7.  The DB_LSN Handle" />
    <link rel="prev" href="envset_lg_bsize.html" title="DB_ENV-&gt;set_lg_bsize()" />
    <link rel="next" href="envset_lg_filemode.html" title="DB_ENV-&gt;set_lg_filemode()" />
  </head>
  <body>
    <div xmlns="" class="navheader">
      <div class="libver">
        <p>Library Version 12.1.6.0</p>
      </div>
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">DB_ENV-&gt;set_lg_dir()</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="envset_lg_bsize.html">Prev</a> </td>
          <th width="60%" align="center">Chapter 7. 
                The DB_LSN Handle
        </th>
          <td width="20%" align="right"> <a accesskey="n" href="envset_lg_filemode.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="envset_lg_dir"></a>DB_ENV-&gt;set_lg_dir()</h2>
          </div>
        </div>
      </div>
      <pre class="programlisting">#include &lt;db.h&gt;

int
DB_ENV-&gt;set_lg_dir(DB_ENV *dbenv, const char *dir);  </pre>
      <p>
         The path of a directory to be used as the location of logging files.
         Log files created by the Log Manager subsystem will be created in this
         directory.
    </p>
      <p>
         If no logging directory is specified, log files are created in the
         environment home directory. See 
         <a href="../../programmer_reference/env_naming.html" class="olink">Berkeley DB File Naming</a> 
         for more information.
    </p>
      <p>
         For the greatest degree of recoverability from system or application
         failure, database files and log files should be located on separate
         physical devices.
    </p>
      <p>
         The database environment's logging directory may also be
         configured using the environment's <a href="../../programmer_reference/env_db_config.html#env_db_config.DB_CONFIG" class="olink">DB_CONFIG</a> file.  The syntax
         of the entry in that file is a single line with the string
         "set_lg_dir", one or more whitespace characters, and the directory
         name. Because the <a href="../../programmer_reference/env_db_config.html#env_db_config.DB_CONFIG" class="olink">DB_CONFIG</a> file is read when the database
         environment is opened, it will silently overrule configuration
         done before that time.  Note that if you use this method for your
         application, and you also want to use the
         <a class="xref" href="db_recover.html" title="db_recover">db_recover</a>,
         <a class="xref" href="db_printlog.html" title="db_printlog">db_printlog</a>,
         <a class="xref" href="db_archive.html" title="db_archive">db_archive</a>, or
         <a class="xref" href="db_log_verify.html" title="db_log_verify">db_log_verify</a>
         utilities, then you should set create a <a href="../../programmer_reference/env_db_config.html#env_db_config.DB_CONFIG" class="olink">DB_CONFIG</a> file and set
         the "set_lg_dir" parameter in it.
    </p>
      <p>
         The <code class="methodname">DB_ENV-&gt;set_lg_dir()</code> method configures operations performed using
         the specified <a class="link" href="env.html" title="Chapter 5.  The DB_ENV Handle">DB_ENV</a> 
         handle, not all operations performed on the underlying database
         environment.
    </p>
      <p>
         The <code class="methodname">DB_ENV-&gt;set_lg_dir()</code> method may not be called after the 
         <a class="xref" href="envopen.html" title="DB_ENV-&gt;open()">DB_ENV-&gt;open()</a>  method is called.
         If the database environment already exists when 
         <a class="xref" href="envopen.html" title="DB_ENV-&gt;open()">DB_ENV-&gt;open()</a>  is called, the
         information specified to <code class="methodname">DB_ENV-&gt;set_lg_dir()</code> must be consistent with
         the existing environment or corruption can occur.
    </p>
      <p>
         The <code class="methodname">DB_ENV-&gt;set_lg_dir()</code> <span>
            <span>
                  method returns a non-zero error value on failure and 0 on success.
            </span>
            
        </span>
    </p>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp53035408"></a>Parameters</h3>
            </div>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><a id="idp53058456"></a>dir</h4>
              </div>
            </div>
          </div>
          <p>
                  The <span class="bold"><strong>dir</strong></span> parameter is the
                  directory used to store the logging files.  This
                  directory must currently exist at environment open time.
             </p>
          <p>
                 When using a Unicode build on Windows (the default), the
                 <span class="bold"><strong>dir</strong></span> argument will be
                 interpreted as a UTF-8 string, which is equivalent to
                 ASCII for Latin characters.
             </p>
        </div>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp53022376"></a>Errors</h3>
            </div>
          </div>
        </div>
        <p>
             The <code class="methodname">DB_ENV-&gt;set_lg_dir()</code> <span>
            <span>
                 method may fail and return one of the following non-zero errors:
            </span>
            
        </span>
        </p>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><a id="idp53076328"></a>EINVAL</h4>
              </div>
            </div>
          </div>
          <p>
                If the method was called after <a class="xref" href="envopen.html" title="DB_ENV-&gt;open()">DB_ENV-&gt;open()</a> 
                was called; or if an invalid flag value or parameter was specified.
            </p>
        </div>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp53058520"></a>Class</h3>
            </div>
          </div>
        </div>
        <p>
                <a class="link" href="env.html" title="Chapter 5.  The DB_ENV Handle">DB_ENV</a>, 
                <a class="link" href="logc.html" title="The DB_LOGC Handle">DB_LOGC</a>, 
                <a class="link" href="lsn.html" title="Chapter 7.  The DB_LSN Handle">DB_LSN</a> 
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp53077344"></a>See Also</h3>
            </div>
          </div>
        </div>
        <p>
             <a class="xref" href="lsn.html#loglist" title="Logging Subsystem and Related Methods">Logging Subsystem and Related Methods</a> 
        </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="envset_lg_bsize.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="lsn.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="envset_lg_filemode.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">DB_ENV-&gt;set_lg_bsize() </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> DB_ENV-&gt;set_lg_filemode()</td>
        </tr>
      </table>
    </div>
  </body>
</html>
