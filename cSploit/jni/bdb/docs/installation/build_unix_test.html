<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Running the test suite under UNIX</title>
    <link rel="stylesheet" href="gettingStarted.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="start" href="index.html" title="Berkeley DB Installation and Build Guide" />
    <link rel="up" href="build_unix.html" title="Chapter 7.  Building Berkeley DB for UNIX/POSIX" />
    <link rel="prev" href="build_unix_shlib.html" title="Dynamic shared libraries" />
    <link rel="next" href="build_unix_notes.html" title="Architecture independent FAQ" />
  </head>
  <body>
    <div xmlns="" class="navheader">
      <div class="libver">
        <p>Library Version 12.1.6.0</p>
      </div>
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Running the test suite under UNIX</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="build_unix_shlib.html">Prev</a> </td>
          <th width="60%" align="center">Chapter 7. 
		Building Berkeley DB for UNIX/POSIX
        </th>
          <td width="20%" align="right"> <a accesskey="n" href="build_unix_notes.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="build_unix_test"></a>Running the test suite under UNIX</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <dl>
          <dt>
            <span class="sect2">
              <a href="build_unix_test.html#build_unix_test_sql">Building SQL Test Suite on Unix</a>
            </span>
          </dt>
        </dl>
      </div>
      <p>The Berkeley DB test suite is built if you specify
<a class="link" href="build_unix_conf.html#build_unix_conf.--enable-test">--enable-test</a>
as an argument when configuring Berkeley DB.  The test suite also
requires that you configure and build the Tcl interface to the
library.</p>
      <p>Before running the tests for the first time, you may need to edit the
<code class="filename">include.tcl</code> file in your build directory.  The
Berkeley DB configuration assumes that you intend to use the
version of the tclsh utility included in the Tcl installation with which
Berkeley DB was configured to run the test suite, and further
assumes that the test suite will be run with the libraries prebuilt in
the Berkeley DB build directory.  If either of these assumptions
are incorrect, you will need to edit the <code class="filename">include.tcl</code> file and
change the following line to correctly specify the full path to the
version of tclsh with which you are going to run the test suite:</p>
      <pre class="programlisting">set tclsh_path ...</pre>
      <p>You may also need to change the following line to correctly specify the
path from the directory where you are running the test suite to the
location of the Berkeley DB Tcl library you built:</p>
      <pre class="programlisting">set test_path ...</pre>
      <p>It may not be necessary that this be a full path if you have configured
your system's shared library mechanisms to search the directory where
you built or installed the Tcl library.</p>
      <p>All Berkeley DB tests are run from within <span class="bold"><strong>tclsh</strong></span>.  After
starting tclsh, you must source the file <code class="filename">test.tcl</code> in the test
directory.  For example, if you built in the <code class="filename">build_unix</code>
directory of the distribution, this would be done using the following
command:</p>
      <pre class="programlisting">% source ../test/tcl/test.tcl</pre>
      <p>If no errors occur, you should get a "%" prompt.</p>
      <p>You are now ready to run tests in the test suite; see
    Running the test suite for more information.</p>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="build_unix_test_sql"></a>Building SQL Test Suite on Unix</h3>
            </div>
          </div>
        </div>
        <p>
    The Berkeley DB SQL interface test suite is built if you specify
<a class="link" href="build_unix_conf.html#build_unix_conf.--enable-test">--enable-test</a> and <a class="link" href="build_unix_conf.html#build_unix_conf.--enable-sql">--enable-sql </a>
as arguments, when configuring Berkeley DB.  The test suite also
requires that you build the Berkeley DB Tcl API.
</p>
        <pre class="programlisting">
../dist/configure --enable-sql --enable-test --with-tcl=/usr/lib
</pre>
        <p>
This builds the <span class="emphasis"><em>testfixture</em></span> project in <code class="literal">../build_unix/sql</code>.
</p>
        <p>To enable extensions like full text search layer and R-Tree layer in the SQL test suite, configure with --enable-amalgamation.
</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="build_unix_shlib.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="build_unix.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="build_unix_notes.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Dynamic shared libraries </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> Architecture independent FAQ</td>
        </tr>
      </table>
    </div>
  </body>
</html>
